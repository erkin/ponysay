#!/bin/sh


function makeMakefile()
{
    params=''
    for arg in "$@"; do
	params="$params '$(echo $arg | sed -e "s/'/'\\''/g")'"
    done
    
    echo 'PARAMS ='"$params"
    echo
    echo -e 'default: all\n'
    echo -e 'all: build\n'
    for func in $(echo 'build' 'prebuilt' 'uninstall' 'uninstall-old' 'clean' 'clean-old' 'view'); do
	echo -e "$func"':\n\t./setup.py --dest-dir="$(DESTDIR)" --prefix="$(PREFIX)" $(PARAMS) '"$func"'\n'
    done
    echo -e 'install-build:\n\t./setup.py --dest-dir="$(DESTDIR)" --prefix="$(PREFIX)" $(PARAMS) install\n'
    echo -e 'install:\n\t./setup.py --dest-dir="$(DESTDIR)" --prefix="$(PREFIX)" $(PARAMS) prebuilt\n'
}


makeMakefile "$@" > Makefile

